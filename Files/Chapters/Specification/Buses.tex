\section{\index{Backend Architecture}Backend Architecture Specifications}

\begin{itemize}
    \item There are $n$ buses: $0, 1, 2, \ldots n-1$
    \item There are $m$ stops: $0, 1, 2, \ldots m-1$  ($0$: first stop, $m-1$: last stop)
    \item We have to synchronize the \textit{\gls{24-hour clock}} at each stop
    \item In this system, all bus shifts end at the starting stop, i.e. the bus shift ends when the bus is back at the $0$\textsuperscript{th} stop. The sequence followed in a shift is \\
          {\bfseries $0$ $\to$ $1$ $\to$ $2$ $\to$ $3$ $\to$ \ldots $\to$ $m-2$ $\to$ $m-1$ $\to$ $m-2$ $\to$ \ldots$\to$ $3$ $\to$ $2$ $\to$ $1$ $\to$ $0$}\\
\end{itemize}

\begin{figure}[H]
        \centering
        \includegraphics[width=0.7\textwidth]
        {./Files/Images/Flowchart.png}
        \caption{\textbf{Example route for m = 4}} % Add a caption
    \end{figure}

\begin{itemize}
    \item All these stops will be connected to the institute’s WiFi service, which will be used to transmit relevant information to all the stops 
    \item⁠ We use WiFi even when the ESP32 has the option of BLE because:
\begin{itemize}
    \item BLEs indoor range is around 100 m, but outdoors the signals are attenuated and therefore the range reduces
    \item We need to cover a route of approximately 2 km using 4 bus units. Therefore using BLE is not feasible unless we can have bus stops every 50-100 metres, which seems impractical.
\end{itemize}
\end{itemize}
\input{Files/Chapters/Specification/OnTheNetwork}
\input{Files/Chapters/Specification/Locally}